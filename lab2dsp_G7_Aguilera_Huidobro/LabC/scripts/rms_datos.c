/***************************************************************************//**
* \file     Funciones que deben impementar los alumnos
*
* \brief    Plantilla para crear funci√≥n en C para una sFunction de Matlab
*
* \authors  Gonzalo Carrasco
*******************************************************************************/

/******************************************************************************
**      HEADER FILES
******************************************************************************/
#include <template.h>
#include <stdint.h>
#include <stdbool.h>
#include <stdio.h>
#include <tmwtypes.h>

/******************************************************************************
**      MODULE PREPROCESSOR CONSTANTS
******************************************************************************/


/******************************************************************************
**      MODULE MACROS
******************************************************************************/


/******************************************************************************
**      MODULE DATATYPES
******************************************************************************/


/******************************************************************************
**      MODULE VARIABLE DEFINITIONS
******************************************************************************/


/******************************************************************************
**      PRIVATE FUNCTION DECLARATIONS (PROTOTYPES)
******************************************************************************/


/******************************************************************************
**      FUNCTION DEFINITIONS
******************************************************************************/
#define t_muestreo 16000
/***************************************************************************//**
*   \brief 
*
*   \param  input : 
*
*   \return Void.
*******************************************************************************/
double funcion(double input)
{
    static int counter=0;
    static double rms=0;
    static double output=0;
    if (counter<0.02*t_muestreo)
    {
        rms+=input*input;
        counter++;
    }
    else
    {
        rms=sqrt(rms/counter);
        counter=0;
        output=rms;
    }
    return output;
}



/******************************************************************************
**      END OF SOURCE FILE
******************************************************************************/
